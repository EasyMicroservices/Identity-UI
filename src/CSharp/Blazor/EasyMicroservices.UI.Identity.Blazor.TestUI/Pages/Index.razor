@page "/"
@using EasyMicroservices.UI.Identity.Blazor.Pages.Authentications
@using EasyMicroservices.UI.Identity.ViewModels.Authentications

@inject ResetPasswordViewModel resetPasswordViewModel

<MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
    <MudTabPanel Text="Login">
        <MudBlazor.MudCard Class="d-flex justify-center">
            <MudBlazor.MudCardContent>
                <Login />
            </MudBlazor.MudCardContent>
        </MudBlazor.MudCard>
    </MudTabPanel>
    <MudTabPanel Text="ForgotPassword">
        <MudBlazor.MudCard Class="d-flex justify-center">
            <MudBlazor.MudCardContent>
                <ForgotPassword />
            </MudBlazor.MudCardContent>
        </MudBlazor.MudCard>
    </MudTabPanel>
    <MudTabPanel Text="ResetPassword">
        <MudBlazor.MudCard Class="d-flex justify-center">
            <MudBlazor.MudCardContent>
                <ResetPassword />
            </MudBlazor.MudCardContent>
        </MudBlazor.MudCard>
    </MudTabPanel>
</MudTabs>


@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        resetPasswordViewModel.OnSuccess = () =>
        {
            Console.WriteLine("resetPassword: SUCCESS");
        };

        resetPasswordViewModel.OnError = () =>
        {
            Console.WriteLine("resetPassword: ERROR");
        };

        await base.OnAfterRenderAsync(firstRender);
    }

}